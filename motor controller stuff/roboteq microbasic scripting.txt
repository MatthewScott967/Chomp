dim dval as integer
dim fresh as boolean
dval = 0
setcommand(_VAR, 1, 0)
setcommand(_BOOL, 2, false)

top:
fresh = getvalue(_BOOL, 2)
dval = getvalue(_VAR, 1)
if fresh = true then
	setcommand(_G, dval)
	setcommand(_BOOL, 2, 0)
end if
goto top



dim dval as integer
dim fresh as boolean
dval = 0
'setcommand(_VAR, 1, 0)
'setcommand(_BOOL, 2, false)

top:
fresh = getvalue(_BOOL, 2)
dval = getvalue(_VAR, 1)
if fresh = true then
	setcommand(_G, dval)
	setcommand(_BOOL, 2, 0)
end if
goto top




'get values from RawCAN buffer'
getvalue(_CF, ?)


dim fresh as boolean
dim side as integer
dim dval as integer

top:
'1 is header, 2 is byte count, 3 to 10 are data0 to data7
'header returns something non zero only once!
fresh = getvalue(_CAN, 1)
print(getvalue(_VAR, 2))
print("\n")
side = getvalue(_CAN, 3)
dval = getvalue(_CAN, 4) << 8
dval += getvalue(_CAN, 5)
if fresh = true then
	setcommand(_VAR, 1, dval)
	setcommand(_G, dval)
end if
goto top