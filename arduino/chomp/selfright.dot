digraph SelfRight {
// UPRIGHT MOVE_HAMMER_FORWARD WAIT_STABLE SELF_RIGHT_LEFT
// SELF_RIGHT_RIGHT WAIT_UPRIGHT HAMMER_RETRACT
node [shape="box"];
LOCK_OUT [shape="octagon"];

Start [shape="circle"];
Start -> UPRIGHT;

Disable [shape="circle" label="Weapons\nDisabled"]
Disable -> UPRIGHT

UPRIGHT -> MOVE_HAMMER_FORWARD [label="Non-Upright\nKnown Orientation"
                                color="green"];
UPRIGHT -> UPRIGHT [label="right side up"];

MOVE_HAMMER_FORWARD -> EXTEND_BARS [label="Hammer is forward"
                                   color="green"];
MOVE_HAMMER_FORWARD -> LOCK_OUT [label="2.0 second time out",
                                 color="red"];

EXTEND_BARS -> WAIT_UPRIGHT [color="green"];

WAIT_UPRIGHT -> HAMMER_RETRACT [label="right side up"
                                color="green"];
WAIT_UPRIGHT -> LOCK_OUT [label="2.0 second time out"
                          color="orange"];

HAMMER_RETRACT -> UPRIGHT [label="hammer retracted"
                           color="green"];
HAMMER_RETRACT -> UPRIGHT [label="2.0 second time out"
                           color="red"];

LOCK_OUT -> UPRIGHT [label="right side up"
                     color="green"];
}
